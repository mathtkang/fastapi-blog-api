# FastAPI-Blog

### ğŸš€ [ì„œë¹„ìŠ¤ ë°”ë¡œê°€ê¸°](http://3.39.239.219/docs)

<br>

## ğŸ“ƒ í”„ë¡œì íŠ¸ ê°œìš”
- ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ì˜ APIë¥¼ ê°œë°œí•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

<br>

## âš™ï¸ ê°œë°œ í™˜ê²½
- ![macosm1 badge](https://img.shields.io/badge/MacOS%20M1-000000.svg?style=flat&logo=macOS&logoColor=white)
- ![Visual Studio Code badge](https://img.shields.io/badge/Visual%20Studio%20Code-007ACC.svg?style=flat&logo=Visual-Studio-Code&logoColor=white)
- ![github badge](https://img.shields.io/badge/GitHub-181717.svg?style=flat&logo=GitHub&logoColor=white)
- ![docker badge](https://img.shields.io/badge/Docker-2496ED.svg?style=flate&logo=Docker&logoColor=white)
- ![postman badge](https://img.shields.io/badge/postman-FF6C37?style=flat&logo=Postman&logoColor=white)
- ![swagger badge](https://img.shields.io/badge/Swagger-85EA2D.svg?style=flat&logo=Swagger&logoColor=black)

<br>

## ğŸ›  ì‚¬ìš© ê¸°ìˆ 
**Server**
- ![python badge](https://img.shields.io/badge/Python-3.10-%233776AB?&logo=python&logoColor=white)
- ![fastapi badge](https://img.shields.io/badge/FastAPI-0.89-109989?style=flat&logo=FastAPI&logoColor=white)
- ![Pydantic badge](https://img.shields.io/badge/Pydantic-1.10-109989?style=flat&logoColor=white)
- ![pyjwt badge](https://img.shields.io/badge/PYJWT-2.6-000000?style=flat&logo=JSON%20web%20tokens&logoColor=white)
- ![aws s3 badge](https://img.shields.io/badge/AWS-S3-FF9900?style=flat&logo=Amazon%20S3&logoColor=white)
- ![pytest badge](https://img.shields.io/badge/Pytest-7.2.2-0A9EDC.svg?style=flat&logo=Pytest&logoColor=white)

**Database**
- ![Postgres badge](https://img.shields.io/badge/postgres-14.5-%23316192.svg?style=flat&logo=postgresql&logoColor=white)
- ![SQLAlchemy badge](https://img.shields.io/badge/SQLAlchemy-2.0-109989?style=flat&logoColor=white)
- ![Alembic badge](https://img.shields.io/badge/Alembic-1.10-109989?style=flat&logoColor=white)

**Deploy**
- ![aws ec2 badge](https://img.shields.io/badge/AWS-EC2-%23FF9900?&logo=Amazon%20EC2&logoColor=white)
- ![docker badge](https://img.shields.io/badge/Docker-20.10.17-%232496ED?&logo=Docker&logoColor=white)
- ![nginx badge](https://img.shields.io/badge/Nginx-1.23.0-%23009639?logo=NGINX&locoColor=white)
- ![uvicorn badge](https://img.shields.io/badge/Uvicorn-0.20-499848.svg?style=flat&logo=Gunicorn&logoColor=white)

<br>

## ğŸ“™ API ëª…ì„¸ì„œ

### ğŸ‘‰ [ğŸ“‘ API Specification](https://sprinkle-piccolo-9fc.notion.site/API-Specification-fastapi-blog-c49db5e76866417ba4ed7a8bbbc50fa3)

<img width="1000" alt="API ëª…ì„¸ì„œ1" src="https://user-images.githubusercontent.com/51039577/233567324-b00c9c1b-0679-4b90-ab82-7d70091e60b1.png">
<img width="1000" alt="API ëª…ì„¸ì„œ2" src="https://user-images.githubusercontent.com/51039577/233567474-2cd57670-328b-4b19-a66d-96510ee55ec7.png">

<br>

## ğŸ“‹ E-R Diagram
<img width="1000" alt="ERD" src="https://user-images.githubusercontent.com/51039577/233566785-e7423380-de51-4de2-b67d-b170168fd670.png">
â—ï¸ ëŒ€ëŒ“ê¸€ êµ¬í˜„ ì‹œ ì—”í‹°í‹° êµ¬ì¡° ì•ˆì—ì„œ ì…€í”„ì¡°ì¸ì„ ì°¸ì¡°í•˜ì—¬ ê³„ì¸µì„ ê°€ì§€ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

<br>

## âœ… Test Case 
- pytestì™€ (asyncí•œ test codeë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´) httpxë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.
- S3ë¥¼ ì´ìš©í•˜ëŠ” í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ ì‹œ, monkeypatchë¥¼ ì‚¬ìš©í•´ì„œ mockingëœ í•¨ìˆ˜ë¥¼ ëŒ€ì‹  ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í•¨ìœ¼ë¡œì¨, APIì— ìˆ˜ì •ì‚¬í•­ì´ ìƒê²¼ì„ ë•Œ ì–´ë–¤ ë¶€ë¶„ì—ì„œ ì´ìŠˆê°€ ìˆëŠ”ì§€ ì •í™•í•˜ê²Œ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
<img width="1000" alt="Test Case" src="https://user-images.githubusercontent.com/51039577/233592103-1baab1fd-344f-478f-8fea-35aa0eb4e12c.png">

<br>

## ğŸŒ ë°°í¬ | [ì„œë¹„ìŠ¤ ì£¼ì†Œ](http://3.39.239.219/docs)
AWS EC2 ì¸ìŠ¤í„´ìŠ¤ì— Uvicorn, NginXë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°í¬í•˜ì˜€ìŠµë‹ˆë‹¤.


<br>

## ğŸ“‚ Directory Structure
<img width="300" alt="Directory Structure" src="https://user-images.githubusercontent.com/51039577/233581094-32b7f3a8-ec79-4dc7-80a8-fa471f01d703.png">

<br>

<!-- ## ğŸ•¸ System Architecture
<img width="1000" alt="System Architecture" src=""> -->





<br>
<br>
<br>
<br>

---

## Set-up requirement

- Python version >= 3.10
- Unix/Linux kernel (for uvloop)

## Setting steps

0. `pip install pyenv poetry`
1. `pyenv virtualenv (python-version) fastapi-blog` > create virtual-env
3. `pyenv local fastapi-blog` > set python-version in virtual-env

## Set-up steps

1. `pyenv shell` > activate virtualenv
2. `poetry update` or `poetry lock` > setting apply pyproject.toml
3. `python main.py` or `uvicorn main:app --reload` > start app

## Migration guide
1. `alembic revision --autogenerate` > make migration
2. `alembic upgrade head` > migrate


If you want more information  for alembic go to this [page](https://alembic.sqlalchemy.org/en/latest/)
